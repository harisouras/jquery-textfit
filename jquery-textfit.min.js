/**
* TextFit
*
* Automatically size a textarea to fit it's content as you type.
* Requires jQuery, and works best with ZURB's textchange plugin (http://www.zurb.com/playground/jquery-text-change-custom-event)
*
* @version 1.1
* @category Form helper
* @author Daniel Farrelly <daniel@jellystyle.com>
* @link <https://github.com/jellybeansoup/jquery-textfit>
*/
(function(e){e.fn.textfit=function(){e(this).each(function(){var t={_dom:{textarea:null,dummy:null},_properties:{length:0,min:null,max:null},init:function(t){var n=this;n._dom.textarea=e(t);n._properties.min=n._dom.textarea.height();n._properties.max=n._dom.textarea.css("max-height")!=="none"?n._dom.textarea.css("max-height"):null;n._dom.dummy=e("<div />").css({position:"absolute",top:"-1000000px",left:"-1000000px",width:n._dom.textarea.width(),"font-family":n._dom.textarea.css("font-family"),"font-size":n._dom.textarea.css("font-size"),"line-height":n._dom.textarea.css("line-height"),"padding-top":n._dom.textarea.css("padding-top"),"padding-bottom":n._dom.textarea.css("padding-bottom"),"padding-left":n._dom.textarea.css("padding-left"),"padding-right":n._dom.textarea.css("padding-right")}).appendTo("body");n._dom.textarea.css({overflow:"hidden",height:n._properties.min});n._dom.textarea.bind("textchange change",n,function(e){e.data._fitToContent()}).change();var r=this._determineSize();n._dom.textarea.height()!==r&&n._dom.textarea.css({height:r})},_fitToContent:function(){var e=this,t=e._determineSize();if(e._dom.textarea.height()!==t){e._dom.textarea.stop();var n=e._dom.textarea.val().length-e._properties.length;n<-1||n>1?e._dom.textarea.css({height:t}):e._dom.textarea.animate({height:t},100)}e._properties.length=e._dom.textarea.val().length},_determineSize:function(){var e=this;e._dom.dummy.html(e._dom.textarea.val().replace(/\n/gi,"&nbsp;<br/>")+"<br/>&nbsp;");e._dom.dummy.css({width:e._dom.textarea.width()});return e._properties.min!==null&&e._dom.dummy.height()<e._properties.min?e._properties.min:e._properties.max!==null&&e._dom.dummy.height()>e._properties.max?e._properties.max:e._dom.dummy.height()},_version:"1.1"};return t.init(this)})}})(jQuery);(function(){var e=jQuery,t=document.getElementsByTagName("script");t[t.length-1].src.indexOf("?auto")>-1&&e().ready(function(){e("textarea").textfit()})})();