!function(t){t.fn.textfit=function(){t(this).each(function(){var e={_dom:{textarea:null,dummy:null},_properties:{length:0,min:null,max:null},_value:null,init:function(e){var a=this;a._dom.textarea=t(e),a._properties.min=a._dom.textarea.height(),a._properties.max="none"!==a._dom.textarea.css("max-height")?a._dom.textarea.css("max-height"):null,a._dom.dummy=t("<div />").addClass("textfit-dummy").appendTo("body");var i=["width","font-family","font-size","font-weight","line-height","word-wrap","padding-top","padding-bottom","padding-left","padding-right","border-top","border-bottom","border-left","border-right","-moz-box-sizing","-webkit-box-sizing","box-sizing"],o={position:"absolute",top:"-1000000px",left:"-1000000px",width:a._dom.textarea.width()};for(var r in i){var n=i[r];o[n]=a._dom.textarea.css(n)}a._dom.dummy.css(o),a._dom.textarea.css({overflow:"hidden",height:a._properties.min,resize:"none"}),a._dom.textarea.on("keyup change",a,function(t){t.data._fitToContent()}),a._dom.textarea.on("cut paste input",a,function(t){var e=setInterval(function(){a._dom.textarea.val()!==a._value&&(clearInterval(e),t.data._fitToContent())},1)}),setTimeout(function(){var t=a._determineSize();a._dom.textarea.height()!==t&&a._dom.textarea.css({height:t})},50)},_fitToContent:function(){var t=this;if(t._dom.textarea.val()!==t._value){t._value=t._dom.textarea.val();var e=t._determineSize();if(t._dom.textarea.height()!==e){t._dom.textarea.stop();var a=t._dom.textarea.val().length-t._properties.length;a>-1?t._dom.textarea.css({height:e}):t._dom.textarea.animate({height:e},100)}t._properties.length=t._dom.textarea.val().length}},_determineSize:function(){var t=this;t._dom.dummy.html(t._dom.textarea.val().replace(/\n/gi,"&nbsp;<br/>")+"<br/>&nbsp;"),t._dom.dummy.css({width:t._dom.textarea.width()});var e=t._dom.dummy.height();return"border-box"===t._dom.textarea.css("box-sizing")&&(e=t._dom.dummy.outerHeight(!0)),null!==t._properties.min&&e<t._properties.min?t._properties.min:null!==t._properties.max&&e>t._properties.max?t._properties.max:e},_version:"1.2"};return e.init(this)})}}(jQuery),function(){var t=jQuery,e=document.getElementsByTagName("script");e[e.length-1].src.indexOf("?auto")>-1&&t().ready(function(){t("textarea").textfit()})}();